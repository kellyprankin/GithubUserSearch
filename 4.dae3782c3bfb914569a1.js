(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{gA4M:function(e,t,n){"use strict";n.r(t),n.d(t,"SearchModule",function(){return R});var r=n("ofXK"),s=n("tyNb"),c=n("vkgz"),a=n("fXoL"),i=n("cp0P"),o=n("LRne"),l=n("eIep"),p=n("tk/3");let h=(()=>{class e{constructor(e){this.httpClient=e,this.apiUrl="https://api.github.com/search/users"}getSearchResults(e){return this.httpClient.get(this.apiUrl,{params:{q:e}}).pipe(Object(l.a)(e=>this.getUsersFromSearchResults(e)))}getUsersFromSearchResults(e){var t=e.items.map(e=>Object(i.a)([this.httpClient.get(e.url)]).pipe(Object(l.a)(e=>Object(o.a)({bio:e[0].bio,username:e[0].login,htmlUrl:e[0].html_url,profileAvatarUrl:e[0].avatar_url,followerCount:e[0].followers,followingCount:e[0].following}))));return Object(i.a)(t)}}return e.\u0275fac=function(t){return new(t||e)(a.Tb(p.a))},e.\u0275prov=a.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var u=n("3Pt+"),g=n("Wp6s"),b=n("kmnG"),d=n("qFsG");let f=(()=>{class e{constructor(e){this.formBuilder=e,this.searchOccurred=new a.n}ngOnInit(){this.searchForm=this.formBuilder.group({searchTerm:["",u.k.required]})}onSubmit(){this.searchForm.valid&&this.searchOccurred.emit(this.searchForm.controls.searchTerm.value)}}return e.\u0275fac=function(t){return new(t||e)(a.Kb(u.b))},e.\u0275cmp=a.Eb({type:e,selectors:[["app-search-form"]],outputs:{searchOccurred:"searchOccurred"},decls:9,vars:1,consts:[[1,"search-form"],[3,"formGroup","ngSubmit"],["matInput","","type","text","formControlName","searchTerm","placeHolder","Search Term","autofocus",""]],template:function(e,t){1&e&&(a.Pb(0,"div",0),a.Pb(1,"mat-card"),a.Pb(2,"mat-card-content"),a.Pb(3,"form",1),a.Wb("ngSubmit",function(){return t.onSubmit()}),a.Pb(4,"label"),a.Pb(5,"mat-form-field"),a.Pb(6,"mat-label"),a.qc(7,"Search for users"),a.Ob(),a.Lb(8,"input",2),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Ob()),2&e&&(a.zb(3),a.fc("formGroup",t.searchForm))},directives:[g.a,g.b,u.l,u.h,u.d,b.c,b.f,d.a,u.a,u.g,u.c],styles:[".search-form[_ngcontent-%COMP%], [_nghost-%COMP%]{display:flex;width:100%}.search-form[_ngcontent-%COMP%]{justify-content:center}.mat-card[_ngcontent-%COMP%]{width:50%}.mat-form-field[_ngcontent-%COMP%]{width:100%}"],changeDetection:0}),e})();var m=n("M9IT"),O=n("zkoq");function P(e,t){1&e&&(a.Pb(0,"div",5),a.Pb(1,"span"),a.qc(2,"No results found."),a.Ob(),a.Ob())}function v(e,t){if(1&e&&(a.Pb(0,"div",5),a.Pb(1,"span"),a.qc(2),a.Ob(),a.Ob()),2&e){const e=a.ac();a.zb(2),a.tc("Showing results ",e.startIndex+1," - ",e.endIndex," of ",e.searchResults.length,"")}}function S(e,t){if(1&e&&(a.Pb(0,"span"),a.qc(1),a.Ob()),2&e){const e=a.ac().$implicit;a.zb(1),a.sc("bio: ",e.bio,"")}}function w(e,t){if(1&e){const e=a.Qb();a.Pb(0,"mat-grid-tile"),a.Pb(1,"mat-card"),a.Pb(2,"mat-card-content",6),a.Wb("click",function(){a.jc(e);const n=t.$implicit;return a.ac().viewUser(n.htmlUrl)}),a.Pb(3,"div",7),a.Lb(4,"img",8),a.Ob(),a.Pb(5,"div",7),a.pc(6,S,2,1,"span",9),a.Ob(),a.Pb(7,"div",7),a.Pb(8,"span"),a.qc(9),a.Ob(),a.Ob(),a.Pb(10,"div",7),a.Pb(11,"span"),a.qc(12),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Ob()}if(2&e){const e=t.$implicit;a.zb(4),a.fc("src",e.profileAvatarUrl,a.kc),a.zb(2),a.fc("ngIf",""!==e.bio),a.zb(3),a.sc("follower count: ",e.followerCount,""),a.zb(3),a.sc("following count: ",e.followingCount,"")}}let x=(()=>{class e{constructor(){this.pageEvent=Object.assign(()=>{}),this.pagedSearchResults=[],this.pageSizeOptions=[5,10,15],this.pageSize=this.pageSizeOptions[0],this.startIndex=0,this.endIndex=this.pageSize}ngOnInit(){this.pagedSearchResults=this.searchResults.slice(0,this.pageSizeOptions[0])}onPageChange(e){this.startIndex=e.pageIndex*e.pageSize,this.endIndex=this.startIndex+e.pageSize,this.endIndex>this.searchResults.length&&(this.endIndex=this.searchResults.length),this.pagedSearchResults=this.searchResults.slice(this.startIndex,this.endIndex)}viewUser(e){window.open(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Eb({type:e,selectors:[["app-search-results-grid"]],inputs:{searchResults:"searchResults"},decls:7,vars:9,consts:[[1,"search-results-grid"],["class","results-count",4,"ngIf"],[3,"length","pageSize","pageSizeOptions","page"],["cols","1","rowHeight","120px"],[4,"ngFor","ngForOf"],[1,"results-count"],[3,"click"],[1,"profile-item"],["title","",1,"avatar-image",3,"src"],[4,"ngIf"]],template:function(e,t){1&e&&(a.Pb(0,"div",0),a.pc(1,P,3,0,"div",1),a.pc(2,v,3,3,"div",1),a.Pb(3,"mat-paginator",2),a.Wb("page",function(e){return t.pageEvent=t.onPageChange(e)}),a.Ob(),a.Pb(4,"mat-grid-list",3),a.pc(5,w,13,4,"mat-grid-tile",4),a.Ob(),a.Pb(6,"mat-paginator",2),a.Wb("page",function(e){return t.pageEvent=t.onPageChange(e)}),a.Ob(),a.Ob()),2&e&&(a.zb(1),a.fc("ngIf",0===t.searchResults.length),a.zb(1),a.fc("ngIf",t.searchResults.length>0),a.zb(1),a.fc("length",t.searchResults.length)("pageSize",t.pageSize)("pageSizeOptions",t.pageSizeOptions),a.zb(2),a.fc("ngForOf",t.pagedSearchResults),a.zb(1),a.fc("length",t.searchResults.length)("pageSize",t.pageSize)("pageSizeOptions",t.pageSizeOptions))},directives:[r.k,m.a,O.a,r.j,O.c,g.a,g.b],styles:[".mat-grid-tile[_ngcontent-%COMP%]{min-width:300px;margin-top:0}img.avatar-image[_ngcontent-%COMP%]{width:50px;height:50px}.mat-card[_ngcontent-%COMP%]{display:flex;max-width:50%;min-width:100px;margin:0 10px;height:60px;flex:1}.mat-card[_ngcontent-%COMP%]:hover{border:1px;background:#d3d3d3}.results-count[_ngcontent-%COMP%]{margin-top:10px;display:flex;justify-content:center}.profile-item[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin-left:20px;flex:3}.mat-card-content[_ngcontent-%COMP%], .profile-text[_ngcontent-%COMP%]{display:flex}  .mat-paginator-container{justify-content:center!important}  .mat-grid-tile{padding-top:0!important;height:300px}"],changeDetection:0}),e})();function z(e,t){if(1&e&&(a.Nb(0),a.Lb(1,"app-search-results-grid",3),a.Mb()),2&e){const e=t.ngIf;a.zb(1),a.fc("searchResults",e)}}const I=[{path:"",children:[{path:"search",component:(()=>{class e{constructor(e){this.searchService=e,this.isLoading=!1}ngOnInit(){}onSearchOccurred(e){this.searchResults$=this.searchService.getSearchResults(e).pipe(Object(c.a)(()=>this.isLoading=!0))}}return e.\u0275fac=function(t){return new(t||e)(a.Kb(h))},e.\u0275cmp=a.Eb({type:e,selectors:[["app-search-page"]],decls:4,vars:3,consts:[[1,"search-page"],[3,"searchOccurred"],[4,"ngIf"],[3,"searchResults"]],template:function(e,t){1&e&&(a.Pb(0,"div",0),a.Pb(1,"app-search-form",1),a.Wb("searchOccurred",function(e){return t.onSearchOccurred(e)}),a.Ob(),a.pc(2,z,2,1,"ng-container",2),a.bc(3,"async"),a.Ob()),2&e&&(a.zb(2),a.fc("ngIf",a.cc(3,1,t.searchResults$)))},directives:[f,r.k,x],pipes:[r.b],styles:[".search-page[_ngcontent-%COMP%], [_nghost-%COMP%]{display:flex;width:100%}.search-page[_ngcontent-%COMP%]{justify-content:center;flex-direction:column}"],changeDetection:0}),e})()}]}];let C=(()=>{class e{}return e.\u0275mod=a.Ib({type:e}),e.\u0275inj=a.Hb({factory:function(t){return new(t||e)},imports:[[s.a.forChild(I)],s.a]}),e})();var y=n("DyN7");let R=(()=>{class e{}return e.\u0275mod=a.Ib({type:e}),e.\u0275inj=a.Hb({factory:function(t){return new(t||e)},providers:[{provide:b.b,useValue:{appearance:"fill"}}],imports:[[r.c,y.a,C,u.e,u.j]]}),e})()}}]);